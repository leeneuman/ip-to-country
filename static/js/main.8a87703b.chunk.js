(this.webpackJsonpstackpulseapp=this.webpackJsonpstackpulseapp||[]).push([[0],{26:function(t,e,a){},27:function(t,e,a){},60:function(t,e,a){"use strict";a.r(e);var n=a(1),c=a.n(n),i=a(18),s=a.n(i),r=(a(26),a(27),a(21)),o=a(3),d=a(0);var l=function(t){var e=t.label,a=t.onClick;return Object(d.jsxs)("button",{"data-testid":"button",type:"button",className:"btn btn-primary mt-3",onClick:a,"aria-label":e,children:[Object(d.jsx)("span",{className:"mr-1","aria-hidden":"true",children:"+"}),e]})},u=a(9),j=a.n(u),b=function(t){return/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(t)},m=a(19),h=a.n(m);var p=function(t){var e=t.ip,a=t.show,c=void 0!==a&&a,i=Object(n.useState)(""),s=Object(o.a)(i,2),r=s[0],l=s[1];return Object(n.useEffect)((function(){b(e)&&function(t){return j.a.get("".concat("https://api.ipgeolocation.io/timezone?","apiKey=").concat("56b18b730d50477ebd4fc5a4da146124","&ip=").concat(t),{headers:{Accept:"application/json"}})}(e).then((function(t){return l(t.data.timezone)})).catch((function(t){return console.log(t.message)}))}),[e]),e&&c?Object(d.jsx)("div",{"data-testid":"clock",children:Object(d.jsx)(h.a,{format:"HH:mm:ss",ticking:!0,timezone:r})}):null},O=a(20);var x=function(t){var e=t.country;return e&&e.countryCode?Object(d.jsx)("div",{"data-testid":"flag",children:Object(d.jsx)(O.a,{className:"mr-3",countryCode:e.countryCode,svg:!0,style:{width:"2em",height:"2em"},"aria-label":e.countryName})}):null};var f=function(t){var e=t.show;return void 0!==e&&e?Object(d.jsx)("div",{"data-testid":"spinner",className:"text-secondary spinner-border spinner-border-sm",role:"status"}):null};var v=function(t){var e=t.error,a=void 0===e?null:e;return a?Object(d.jsx)("div",{"data-testid":"error-msg",className:"mt-1 text-danger",children:a}):null},g={backgroundColor:"#e5e5e5",borderRadius:"50%",width:"30px",height:"30px",flexShrink:"0"};var y=function(t){var e=t.item,a=Object(n.useState)(""),c=Object(o.a)(a,2),i=c[0],s=c[1],r=Object(n.useState)(!1),l=Object(o.a)(r,2),u=l[0],m=l[1],h=Object(n.useState)({}),O=Object(o.a)(h,2),y=O[0],N=O[1],k=Object(n.useState)(null),C=Object(o.a)(k,2),I=C[0],S=C[1];return Object(d.jsx)("div",{className:"d-flex p-2 flex-column","data-testid":"item-".concat(e),children:Object(d.jsxs)("div",{className:"d-flex align-items-center",children:[Object(d.jsx)("div",{className:"d-flex align-items-center justify-content-center mr-3",style:g,children:e}),Object(d.jsx)("input",{type:"text",className:"form-control mr-3 w-50","aria-label":"ip address",value:i,onChange:function(t){s(t.target.value)},onBlur:function(){var t;m(!0),S(null),b(i)?(t=i,j.a.get("".concat("https://api.ip2country.info/ip?").concat(t),{headers:{Accept:"application/json"}})).then((function(t){N(t.data)})).catch((function(t){alert(t.message),N({})})).finally((function(){return m(!1)})):(S("Invalid input"),N({}),m(!1))},disabled:u,"data-testid":"item-input-".concat(e)}),Object(d.jsx)(x,{country:y}),Object(d.jsx)(p,{ip:i,show:!u&&y&&y.countryCode}),Object(d.jsx)(f,{show:u}),Object(d.jsx)(v,{error:I})]})})};var N=function(t){var e=t.itemsList,a=void 0===e?[]:e;return 0===a.length?null:Object(d.jsx)("div",{"data-testid":"search-list",className:"mt-3 pt-3",style:{borderTop:"1px solid #dee2e6"},children:a.map((function(t){return Object(d.jsx)(y,{item:t},"ip-item-".concat(t))}))})};var k=function(){var t=Object(n.useState)([]),e=Object(o.a)(t,2),a=e[0],c=e[1];return Object(d.jsxs)("div",{"data-testid":"modal",children:[Object(d.jsx)("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#IPModal",children:"Search IP's country"}),Object(d.jsx)("div",{className:"modal fade",id:"IPModal",tabIndex:"-1",role:"dialog","aria-labelledby":"ip to country modal","aria-hidden":"true","data-backdrop":"static",children:Object(d.jsx)("div",{className:"modal-dialog",role:"document",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsxs)("div",{className:"modal-header",children:[Object(d.jsx)("h5",{className:"modal-title",id:"IPModal",children:"IP Lookup"}),Object(d.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){c([])},children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(d.jsxs)("div",{className:"modal-body",children:[Object(d.jsx)("div",{children:"Enter one or more IP addresses and get their conutry"}),Object(d.jsx)(l,{label:"Add",onClick:function(){c([].concat(Object(r.a)(a),[a.length+1]))}}),Object(d.jsx)(N,{itemsList:a})]})]})})})]})};var C=function(){return Object(d.jsx)(k,{})},I=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,61)).then((function(e){var a=e.getCLS,n=e.getFID,c=e.getFCP,i=e.getLCP,s=e.getTTFB;a(t),n(t),c(t),i(t),s(t)}))};a(55),a(59);s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(C,{})}),document.getElementById("root")),I()}},[[60,1,2]]]);
//# sourceMappingURL=main.8a87703b.chunk.js.map