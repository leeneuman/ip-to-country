{"version":3,"sources":["components/button.js","helpers/dataHelpers.js","components/countryClock.js","api/IpApi.js","components/countryFlag.js","components/spinner.js","components/errorMsg.js","components/ipItem.js","components/searchList.js","components/modal.js","App.js","reportWebVitals.js","index.js"],"names":["Button","label","onClick","data-testid","type","className","aria-label","aria-hidden","isValidIP","ip","test","CountryClock","show","useState","timeZone","setTimeZone","useEffect","axios","get","headers","Accept","getTimezone","then","res","data","timezone","catch","err","console","log","message","format","ticking","CountryFlag","country","countryCode","svg","style","width","height","countryName","Spinner","role","ErrorMsg","error","numberStyle","backgroundColor","borderRadius","flexShrink","IpItem","item","address","setAddress","isSearching","setIsSearching","setCountry","fieldError","setFieldError","value","onChange","event","target","onBlur","length","alert","finally","disabled","SearchList","itemsList","borderTop","map","i","Modal","setItemsList","data-toggle","data-target","id","tabIndex","aria-labelledby","data-backdrop","data-dismiss","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.babdcfb4.chunk.js","sourcesContent":["import React from 'react';\n\nfunction Button({ label, onClick }) {\n\treturn (\n\t\t<button\n\t\t\tdata-testid=\"button\"\n\t\t\ttype=\"button\"\n\t\t\tclassName=\"btn btn-primary mt-3\"\n\t\t\tonClick={onClick}\n\t\t\taria-label={label}\n\t\t>\n\t\t\t<span className=\"mr-1\" aria-hidden=\"true\">\n\t\t\t\t&#x2B;\n\t\t\t</span>\n\t\t\t{label}\n\t\t</button>\n\t);\n}\n\nexport default Button;\n","export const isValidIP = (ip) => {\n\treturn /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(\n\t\tip\n\t);\n};\n","import React, { useEffect, useState } from 'react';\nimport { getTimezone } from '../api/IpApi';\nimport { isValidIP } from '../helpers/dataHelpers';\nimport Clock from 'react-live-clock';\n\nfunction CountryClock({ ip, show = false }) {\n\tconst [ timeZone, setTimeZone ] = useState('');\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (isValidIP(ip)) {\n\t\t\t\tgetTimezone(ip).then((res) => setTimeZone(res.data.timezone)).catch((err) => console.log(err.message));\n\t\t\t}\n\t\t},\n\t\t[ ip ]\n\t);\n\n\tif (!ip || !show) return null;\n\n\treturn (\n\t\t<div data-testid=\"clock\">\n\t\t\t<Clock format={'HH:mm:ss'} ticking={true} timezone={timeZone} />\n\t\t</div>\n\t);\n}\n\nexport default CountryClock;\n","import axios from 'axios';\nconst BASE_COUNTRY_URL = 'https://api.ip2country.info/ip?';\nconst TIME_API_KEY = '56b18b730d50477ebd4fc5a4da146124';\nconst BASE_TIME_URL = 'https://api.ipgeolocation.io/timezone?';\n\nexport const getCountry = (ip) => {\n\treturn axios.get(`${BASE_COUNTRY_URL}${ip}`, {\n\t\theaders: { Accept: 'application/json' }\n\t});\n};\n\nexport const getTimezone = (ip) => {\n\treturn axios.get(`${BASE_TIME_URL}apiKey=${TIME_API_KEY}&ip=${ip}`, {\n\t\theaders: { Accept: 'application/json' }\n\t});\n};\n","import React from 'react';\nimport ReactCountryFlag from 'react-country-flag';\n\nfunction CountryFlag({ country }) {\n\tif (!country || !country.countryCode) return null;\n\n\treturn (\n\t\t<div data-testid=\"flag\">\n\t\t\t<ReactCountryFlag\n\t\t\t\tclassName=\"mr-3\"\n\t\t\t\tcountryCode={country.countryCode}\n\t\t\t\tsvg\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: '2em',\n\t\t\t\t\theight: '2em'\n\t\t\t\t}}\n\t\t\t\taria-label={country.countryName}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport default CountryFlag;\n","import React from 'react';\n\nfunction Spinner({ show = false }) {\n\tif (!show) return null;\n\n\treturn <div data-testid=\"spinner\" className=\"text-secondary spinner-border spinner-border-sm\" role=\"status\" />;\n}\n\nexport default Spinner;\n","import React from 'react';\n\nfunction ErrorMsg({ error = null }) {\n\tif (!error) return null;\n\n\treturn (\n\t\t<div data-testid=\"error-msg\" className=\"mt-1 text-danger\">\n\t\t\t{error}\n\t\t</div>\n\t);\n}\n\nexport default ErrorMsg;\n","import React, { useState } from 'react';\nimport { getCountry } from '../api/IpApi';\nimport { isValidIP } from '../helpers/dataHelpers';\nimport CountryClock from './countryClock';\nimport CountryFlag from './countryFlag';\nimport Spinner from './spinner';\nimport ErrorMsg from './errorMsg';\n\nconst numberStyle = { backgroundColor: '#e5e5e5', borderRadius: '50%', width: '30px', height: '30px', flexShrink: '0' };\n\nfunction IpItem({ item }) {\n\tconst [ address, setAddress ] = useState('');\n\tconst [ isSearching, setIsSearching ] = useState(false);\n\tconst [ country, setCountry ] = useState({});\n\tconst [ fieldError, setFieldError ] = useState(null);\n\n\tconst onChange = (event) => {\n\t\tsetAddress(event.target.value);\n\t};\n\n\tconst searchAddress = () => {\n\t\tif (address.length > 0) {\n\t\t\tsetIsSearching(true);\n\t\t\tsetFieldError(null);\n\n\t\t\tif (isValidIP(address)) {\n\t\t\t\tgetCountry(address)\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tsetCountry(res.data);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\talert(err.message);\n\t\t\t\t\t\tsetCountry({});\n\t\t\t\t\t})\n\t\t\t\t\t.finally(() => setIsSearching(false));\n\t\t\t} else {\n\t\t\t\tsetFieldError('Invalid input');\n\t\t\t\tsetCountry({});\n\t\t\t\tsetIsSearching(false);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"d-flex p-2 flex-column\" data-testid={`item-${item}`}>\n\t\t\t<div className=\"d-flex align-items-center\">\n\t\t\t\t<div className=\"d-flex align-items-center justify-content-center mr-3\" style={numberStyle}>\n\t\t\t\t\t{item}\n\t\t\t\t</div>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control mr-3 w-50\"\n\t\t\t\t\taria-label=\"ip address\"\n\t\t\t\t\tvalue={address}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t\tonBlur={searchAddress}\n\t\t\t\t\tdisabled={isSearching}\n\t\t\t\t\tdata-testid={`item-input-${item}`}\n\t\t\t\t/>\n\t\t\t\t<CountryFlag country={country} />\n\t\t\t\t<CountryClock ip={address} show={!isSearching && country && country.countryCode} />\n\t\t\t\t<Spinner show={isSearching} />\n\t\t\t\t<ErrorMsg error={fieldError} />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default IpItem;\n","import React from 'react';\nimport IpItem from './ipItem';\n\nfunction SearchList({ itemsList = [] }) {\n\tif (itemsList.length === 0) return null;\n\n\treturn (\n\t\t<div data-testid=\"search-list\" className=\"mt-3 pt-3\" style={{ borderTop: '1px solid #dee2e6' }}>\n\t\t\t{itemsList.map((i) => <IpItem key={`ip-item-${i}`} item={i} />)}\n\t\t</div>\n\t);\n}\n\nexport default SearchList;\n","import React, { useState } from 'react';\nimport Button from './button';\nimport SearchList from './searchList';\n\nfunction Modal() {\n\tconst [ itemsList, setItemsList ] = useState([ 1 ]);\n\n\tconst addRow = () => {\n\t\tsetItemsList([ ...itemsList, itemsList.length + 1 ]);\n\t};\n\n\tconst reset = () => {\n\t\tsetItemsList([ 1 ]);\n\t};\n\n\treturn (\n\t\t<div data-testid=\"modal\">\n\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#IPModal\">\n\t\t\t\tSearch IP's country\n\t\t\t</button>\n\n\t\t\t<div\n\t\t\t\tclassName=\"modal fade\"\n\t\t\t\tid=\"IPModal\"\n\t\t\t\ttabIndex=\"-1\"\n\t\t\t\trole=\"dialog\"\n\t\t\t\taria-labelledby=\"ip to country modal\"\n\t\t\t\taria-hidden=\"true\"\n\t\t\t\tdata-backdrop=\"static\"\n\t\t\t>\n\t\t\t\t<div className=\"modal-dialog\" role=\"document\">\n\t\t\t\t\t<div className=\"modal-content\">\n\t\t\t\t\t\t<div className=\"modal-header\">\n\t\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"IPModal\">\n\t\t\t\t\t\t\t\tIP Lookup\n\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclassName=\"close\"\n\t\t\t\t\t\t\t\tdata-dismiss=\"modal\"\n\t\t\t\t\t\t\t\taria-label=\"Close\"\n\t\t\t\t\t\t\t\tonClick={reset}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span aria-hidden=\"true\">&times;</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"modal-body\">\n\t\t\t\t\t\t\t<div>Enter one or more IP addresses and get their conutry</div>\n\t\t\t\t\t\t\t<Button label={'Add'} onClick={addRow} />\n\t\t\t\t\t\t\t<SearchList itemsList={itemsList} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Modal;\n","import './App.css';\nimport Modal from './components/modal';\n\nfunction App() {\n\treturn <Modal />;\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}